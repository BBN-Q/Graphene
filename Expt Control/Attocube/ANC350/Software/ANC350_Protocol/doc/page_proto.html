<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>ANC350V4-protocol: Protocol Description</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ANC350V4-protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Protocol Description </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sec_protocol"></a>
Protocol</h1>
<p>The data streams between PC and device are divided into protocol elements of defined length, called telegrams. Four types of telegrams are used: Set, Get, Ack and Tell. All telegrams begin with the same header which identifies the type (opcode), the length, address, index and a correlation number used to match answers to requests. After receiving the header, its interpretation allows to receive the rest of the telegram.</p>
<ul>
<li>A Set telegram is sent from the control PC to the hardware device and is used to set one single control parameter or command. A correlation number in the range of 1 to 65535 (the upper 16 bits are reserved for internal usage) is interpreted as Ack request: after execution, the device acknowledges with an Ack telegram that contains the correlation number and the current value of the parameter. The control PC must not send other telegrams before receiving the Ack. It is almost never necessary to use Ack requests.</li>
</ul>
<ul>
<li>A Get telegram is sent from the PC to the device to request the current value of a single parameter. It will be answered by an Ack telegram with the same correlation number (in the range of 1 to 65535) for matching. The control PC must not send other telegrams before receiving the Ack.</li>
</ul>
<ul>
<li>An Ack telegram always is an answer of the device to a request (Get or Set with correlation number) of the PC. If an error occurs in processing of the request, it is indicated by a reason code contained in the telegram. Note that not all adresses allow both Get and Set; a forbidden request will be answered with reason code "invalid address".</li>
</ul>
<ul>
<li>A Tell telegram is used by the device to notify the PC about changed parameters or data. In particular it is used for periodic updates of volatile data like e.g. positions. So permanent polling of these values by Get telegrams it is not necessary. Periodic updates are switched on/off by a global command. If applicable, also data streams are transferred with Tell telegrams. See product the specific address documentation for details.</li>
</ul>
<p>Generally, a telegram transports one parameter or result, i.e. it has one single data field of 32 Bits. Only in special cases longer Ack or Tell telegrams are used to transport a set of synchronized results etc.</p>
<p>The protocol is binary with intel-type byte order (not network byte order). The structure of the telegrams is described in <a class="el" href="ucprotocol_8h.html" title="Protocol elements for communication with N-Hands devices. ">ucprotocol.h</a> . </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
